# Глава 5. Повторения (цикли)

В настоящата глава ще се запознаем с конструкциите за **повторение на група команди**, известни в програмирането с понятието "**цикли**". Ще напишем няколко цикъла с използване на оператора `for` в най-простата му форма и ще използваме цикли, за да решим няколко практически задачи, изискващи повторение на поредица от действия.

## Видео

<div class="video-player">
  Гледайте видео-урок по тази глава тук: <a target="_blank"
  href="https://www.youtube.com/watch?v=Xjwjk9yS4uw">
  https://www.youtube.com/watch?v=Xjwjk9yS4uw</a>.
</div>
<script src="/assets/js/video.js"></script>

## Повторения на блокове код (for-цикъл)

В програмирането често пъти се налага **да изпълним блок с команди няколко пъти**. За целта в езиците за програмиране се използват **цикли**. Да разгледаме един пример за `for` цикъл:

```cs
for (var i = 1; i <= 10; i++)
{
    Console.WriteLine("i = " + i);
}
```

Цикълът започва с **оператора** `for` и преминава през всички стойности за дадена променлива в даден интервал, например всички числа от 1 до 10 включително, и за всяка стойност изпълнява поредица команди \(тяло на цикъла\).

В декларацията на цикъла може да се зададе **начална стойност** и **крайна стойност**. **Тялото на цикъла** обикновено се огражда с къдрави скоби `{ }` и представлява блок с една или няколко команди. На фигурата по-долу е показана структурата на един `for` цикъл:

![](/assets/for-loop-explained.png)

В повечето случаи един `for` цикъл се завърта от `1` до `n` (примерно от 1 до 10). Целта на цикъла е да се премине последователно през числата 1, 2, 3, ..., n, и за всяко от тях да се изпълни някакво действие. В примера по-горе променливата `i` приема стойности от 1 до 10 и в тялото на цикъла с отпечатва текущата стойност. Цикълът се повтаря 10 пъти и всяко от тези повторения се нарича "**итерация**".

## Пример: Числа от 1 до 100

Да се напише програма, която **печата числата от 1 до 100**. Програмата не приема вход и отпечатва числата от 1 до 100 едно след друго, по едно на ред.

Можем да решим задачата с `for` цикъл, с който преминаваме с променливата `i` по числата от 1 до 100 и ги печатаме:

```cs
for (var i = 1; i <= 100; i++)
{
   Console.WriteLine(i);
}
```
Решението може да се тества в judge системата: [https://judge.softuni.bg/Contests/154](https://judge.softuni.bg/Contests/154).

## Code Snippet за for цикъл във Visual Studio

Докато програмираме, постоянно се налага да пишем цикли, десетки пъти всеки ден. Затова в повечето среди за разработка (IDE) има **шаблони за код** (**code snippets**) за писане на цикли. Един такъв шаблон е **шаблонът за `for` цикъл във Visual Studio**. Напишете `for` в редактора за C\# код във Visual Studio и **натиснете два пъти \[Tab\]**. Visual Studio ще разгъне за вас шаблон и ще напише цялостен `for` цикъл:

![](/assets/for-loop-code-snippet.png)

**Опитайте сами**, за да се усвоите умението да ползвате шаблона за код `for`във Visual Studio.

## Пример: числа до 1000, завършващи на 7

Да се напише програма, която намира всички числа в интервала \[1…1000\], които завършват на 7. Решението може да се тества в judge системата: [https://judge.softuni.bg/Contests/154](https://judge.softuni.bg/Contests/154).

Задачата можем да решим като комбинираме `for`**цикъл** за преминаваме по числата от 1 до 1000 и **проверка **за всяко число дали завършва на 7. Има и други решения, разбира се, но нека решим задачата чрез **завъртане на цикъл + проверка**:

```cs
for (var i = 0; i <= 1000; i++)
{
   if (i % 10 == 7)
   {
      // TODO: отпечатваме i
   }
}
```


## Пример: всички латински букви

Да се напише програма, която отпечатва буквите от латинската азбука: a … z
For-циклите работят не само с числа, може и с букви:

Console.Write("Latin alphabet:");
for (var letter = 'a'; letter <= 'z'; letter++)
{
   Console.Write(" " + letter);
}
Console.WriteLine();

Тестване на решението: https://judge.softuni.bg/Contests/Practice/Index/154#2


## Пример: сумиране на числа

Да се напише програма, която въвежда `n` числа и ги сумира.

* От първия ред на входа се въвежда броят числа `n`.
* От следващите `n` реда се въвежда по едно число.
* Числата се сумират и накрая се отпечатва резултатът.

Примери:

| Вход | Изход | Вход | Изход | Вход | Изход |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 2<br>10<br>20 | 30 | 3<br>-10<br>-20<br>-30 | -60 | 4<br>45<br>-20<br>7<br>11<br> | 43 |

Можем да решим задачата за сумиране на числа по следния начин:
 - Четем входното число `n`.
 - Започваме първоначално със сума `sum` = 0.
 - Въртим цикъл от 1 до `n` и на всяка стъпка от цикъла четем число `num` и го добавяме към сумата `sum`.
 - Накрая отпечатваме получената сума `sum`.
 
Ето го и сорс кодът на решението:

```cs
Console.Write("n = ");
var n = int.Parse(Console.ReadLine());
Console.WriteLine("Enter the numbers:");
var sum = 0;
for (var i = 0; i < n; i++)
{
   var num = int.Parse(Console.ReadLine());
   sum = sum + num;
}
Console.WriteLine("sum = " + sum);

```
Решението може да се тества в judge системата: https://judge.softuni.bg/Contests/154.


## Пример: най-голямо число

Да се напише програма, която въвежда n числа и намира най-голямото измежду тях
От първия ред на входа въвежда броя числа n
От следващите n реда се въвежда по едно число
Примери:

TODO: sample input / output table

Console.Write("n = ");
var n = int.Parse(Console.ReadLine());
var max = -10000000000000;
for (var i = 1; i <= n; i++)
{
   var num = int.Parse(Console.ReadLine());
   if (num > max)
      max = num;
}
Console.WriteLine("max = " + max);

Тестване на решението: https://judge.softuni.bg/Contests/Practice/Index/154#4


## Пример: най-малко число

Да се напише програма, която въвежда n числа и намира най-малкото измежду тях
Въвежда първо броя числа n, след тях още n числа
Примери:

TODO: smaple input / output

TODO: solution

Тестване на решението: https://judge.softuni.bg/Contests/Practice/Index/154#5


## Задача: лява и дясна сума

Да се напише програма, която въвежда 2\*n числа
Проверява дали сумите на левите n и десните n числа са равни
При равенство печата "Yes" + сумата; иначе печата "No" + разликата (изчислена като положително число)
Примери:

TODO: sample input / output table

var n = int.Parse(Console.ReadLine());
var leftSum = 0;
for (var i = 0; i < n; i++)
  leftSum = leftSum + int.Parse(Console.ReadLine());
// TODO: read and calculate the rightSum
if (leftSum == rightSum)
  Console.WriteLine("Yes, sum = " + leftSum);
else
  Console.WriteLine("No, diff = " + 
    Math.Abs(rightSum - leftSum));

Тестване на решението: https://judge.softuni.bg/Contests/Practice/Index/154#6


## Задача: четна / нечетна сума

Да се напише програма, която въвежда n числа
Проверява дали сумата на числата на четни позиции е равна на сумата на числата на нечетни позиции
При равенство печата "Yes" + сумата; иначе печата "No" + разликата (положително число). Примери:

TODO: sample input / output table

var n = int.Parse(Console.ReadLine());
var oddSum = 0;
var evenSum = 0;
for (var i = 0; i < n; i++)
{
  var element = int.Parse(Console.ReadLine());
  if (i % 2 == 0) oddSum += element;
  else evenSum += element;
}
// TODO: print the sum / difference

Тестване на решението: https://judge.softuni.bg/Contests/Practice/Index/154#7


## Задача: сумиране на гласните букви

Да се напише програма, която въвежда текст (стринг)
Отпечатва сумата на гласните букви според таблицата по-долу:

TODO: table

Примери:

TODO: sample input / output table

var s = Console.ReadLine();
var sum = 0;
for (int i = 0; i < s.Length; i++)
  if (s[i] == 'a') sum += 1;
  else if (s[i] == 'e') sum += 2;
  else if (s[i] == 'i') sum += 3;
  else if (s[i] == 'o') sum += 4;
  else if (s[i] == 'u') sum += 5;
Console.WriteLine("Vowels sum = " + sum);

Тестване на решението: https://judge.softuni.bg/Contests/Practice/Index/154#8 


## Какво научихме от тази глава?

Можем да повтаряме блок код с for-цикъл:

for (var i = 1; i <= 10; i++)
{
   Console.WriteLine("i = " + i);
}

Можем да четем поредица от n числа от конзолата:

var n = int.Parse(Console.ReadLine());
for (var i = 0; i < n; i++)
{  var num = int.Parse(Console.ReadLine()); … }


## Упражнения: повторения (цикли)

TODO: да се ползва като основа файлът "5. Loops-Exercises.docx"
TODO: повтарящите се задачи да се слеят с текста по-горе.

### 0. Празно Visual Studio решение (Blank Solution)

### 1. Числа от 1 до 100

### 2. Числа до 1000, завършващи на 7

### 3. Всички латински букви

### 4. Сумиране на числа

### 5. Най-голямо число

### 6. Най-малко число

### 7. Лява и дясна сума

### 8. Четна / нечетна сума

### 9. Сумиране на гласните букви

### 10. Елемент, равен на сумата на останалите

### 11. Четни / нечетни позиции

### 12. Еднакви двойки

## Упражнения: графични и уеб приложения

### 13. Чертане с костенурка – графично GUI приложение

### 14. * Чертане на шестоъгълник с костенурката

### 15. * Чертане на звезда с костенурката

### 16. * Чертане на спирала с костенурката

### 17. * Чертане на слънце с костенурката

### 18. * Чертане на спирален триъгълник с костенурката
